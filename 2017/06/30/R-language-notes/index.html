<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记性越来越差，只能把学过的东西记下来，不然白学"><title>R语言学习笔记 | 老姜工作室</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">R语言学习笔记</h1><a id="logo" href="/.">老姜工作室</a><p class="description">数据挖掘 | 编程 | 学习笔记</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">R语言学习笔记</h1><div class="post-meta">Jun 30, 2017<span> | </span><span class="category"><a href="/categories/R语言/">R语言</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h3 id="各种基本类型"><a href="#各种基本类型" class="headerlink" title="各种基本类型"></a>各种基本类型</h3><p>R中的每个类型都是对象，并且每个单个元素都是长度为1的向量。<br>矩阵和数组的区别：矩阵是一个二微的矩形数据集，而数组可以是任意维度的且维度可以由参数dim来指定。<br>向量由c()创建，矩阵由matrix()创建，列表由list()创建, 数组由array()创建，因子由factor()创建并且nlevels函数给出级别的计数。<br>因子是由向量创建的R对象，它将向量中的不同的元素储存为标签，并且无论向量中元素是什么类型标签永远是字符类型。<br>使用class()查看变量类型。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>cat()可以连接字符串和变量并打印出来<br>ls()可以输出现在存在的变量以‘.’开头的变量会隐藏起来，使用rm()删除指定变量</p>
<h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><p>&amp;&amp;于<code>||</code>取向量的第一个元素比较。单个的&amp; ，｜ ，！都是比较两个向量相对位置的元素。<br>    %*%矩阵和矩阵的转置相乘</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><pre><code>function_name &lt;- function(arg_1, arg_2, ...) {
  Function body 
}
</code></pre><h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><p>paste()函数，把链接字符串。<br>格式化输出，format()</p>
<h2 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h2><p>即使在R中只写入一个值，它也将成为长度为1的向量，并且属于上述向量类型之一，也叫做原子向量。<br>使用seq()可以创建向量：print(seq(5, 9, by = 0.4))</p>
<h3 id="向量的索引"><a href="#向量的索引" class="headerlink" title="向量的索引"></a>向量的索引</h3><p>使用中括号［ ］，如果是多元素，那么得是向量形式：<br><code>u &lt;- t[c(2,3,6)]</code><br>还可以使用0，1或者TRUE,FALSE索引，和图像中的掩模类似：<br><code>y &lt;- t[c(0,0,0,0,0,0,1)]</code></p>
<h3 id="向量的操作"><a href="#向量的操作" class="headerlink" title="向量的操作"></a>向量的操作</h3><p>两个向量之际也可以加减成除这里都是指相对应位置上的操作。</p>
<h3 id="向量的排序"><a href="#向量的排序" class="headerlink" title="向量的排序"></a>向量的排序</h3><p>sort() 函数</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>多维，类型不限制<br>列表可以存储不同类型的元素,包括最基本的几种类型数据，和向量，列表，矩阵，数组等，什么都可以，而且没有格式要求，不需要对其什么的。</p>
<h3 id="给列表元素命名"><a href="#给列表元素命名" class="headerlink" title="给列表元素命名"></a>给列表元素命名</h3><p>可以通过元素名称来对列表元素进行操作。<br>使用names()：<code>names(list_data) &lt;- c(&quot;1st Quarter&quot;, &quot;A_Matrix&quot;, &quot;A Inner list&quot;)</code></p>
<h3 id="列表的索引"><a href="#列表的索引" class="headerlink" title="列表的索引"></a>列表的索引</h3><p>可以通过下标，也可以通过名字如果有的话</p>
<h3 id="操作列表元素"><a href="#操作列表元素" class="headerlink" title="操作列表元素"></a>操作列表元素</h3><p>就和操作其他类型的结构一样。</p>
<h3 id="合并两个列表"><a href="#合并两个列表" class="headerlink" title="合并两个列表"></a>合并两个列表</h3><p>c()</p>
<h3 id="列表转向量"><a href="#列表转向量" class="headerlink" title="列表转向量"></a>列表转向量</h3><p>unlist()</p>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p>二维，类型相同<br>matrix(data, nrow, ncol, byrow, dimnames)<br>dimname是分配给行和列的名称。<br>byrow是一个逻辑线索。如果为TRUE，则输入向量元素按行排列。<br>    rownames = c(“row1”, “row2”, “row3”, “row4”)<br>    colnames = c(“col1”, “col2”, “col3”)<br>    P &lt;- matrix(c(3:14), nrow = 4, byrow = TRUE, dimnames = list(rownames, colnames))</p>
<h3 id="矩阵的索引"><a href="#矩阵的索引" class="headerlink" title="矩阵的索引"></a>矩阵的索引</h3><p>也是采用中括号［ ］，<br>但是索引一行或一列的话和matlab有点不同，空格代替 ‘ ：’。</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>多维，类型相同<br>如果我们创建一个维数（2，3，4）的数组，那么它创建4个矩形矩阵，每个矩阵具有2行和3列。数组只能存储数据类型。</p>
<h3 id="给数组行和列命名"><a href="#给数组行和列命名" class="headerlink" title="给数组行和列命名"></a>给数组行和列命名</h3><pre><code># Create two vectors of different lengths.
vector1 &lt;- c(5,9,3)
vector2 &lt;- c(10,11,12,13,14,15)
column.names &lt;- c(&quot;COL1&quot;,&quot;COL2&quot;,&quot;COL3&quot;)
row.names &lt;- c(&quot;ROW1&quot;,&quot;ROW2&quot;,&quot;ROW3&quot;)
matrix.names &lt;- c(&quot;Matrix1&quot;,&quot;Matrix2&quot;)
# Take these vectors as input to the array.
result &lt;- array(c(vector1,vector2),dim = c(3,3,2),dimnames = list(row.names,column.names, matrix.names))
print(result) 
</code></pre><h3 id="数组的索引"><a href="#数组的索引" class="headerlink" title="数组的索引"></a>数组的索引</h3><p>［行，列，维度］</p>
<h3 id="数组运算"><a href="#数组运算" class="headerlink" title="数组运算"></a>数组运算</h3><p>我们可以使用apply() 函数在数组中的元素上进行计算。<br>apply(x, margin, fun)</p>
<h2 id="数据框"><a href="#数据框" class="headerlink" title="数据框"></a>数据框</h2><p>读取数据最好使用read.table(),使用read.csv() 没有必要。</p>
<h3 id="给数据框添加列名"><a href="#给数据框添加列名" class="headerlink" title="给数据框添加列名"></a>给数据框添加列名</h3><pre><code>names(wts)=c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;)
</code></pre><h3 id="获取数据框的结构"><a href="#获取数据框的结构" class="headerlink" title="获取数据框的结构"></a>获取数据框的结构</h3><p>str()函数，什么是结构，就是每个列是什么类型，有哪些元素，名字叫什么<br>如：<br>    data.frame’:   5 obs. of  4 variables:<br>    $ emp_id    : int  1 2 3 4 5<br>    $ emp_name  : chr  “Rick” “Dan” “Michelle” “Ryan” …<br>    $ salary    : num  623 515 611 729 843<br>    $ start_date: Date, format: “2012-01-01” “2013-09-23” “2014-11-15” “2014-05-11”</p>
<h3 id="数据框中的数据摘要"><a href="#数据框中的数据摘要" class="headerlink" title="数据框中的数据摘要"></a>数据框中的数据摘要</h3><p>可以通过应用summary() 函数获取数据的统计摘要和性质.</p>
<h3 id="访问数据框中的数据"><a href="#访问数据框中的数据" class="headerlink" title="访问数据框中的数据"></a>访问数据框中的数据</h3><p> ［行，列］</p>
<h3 id="访问列"><a href="#访问列" class="headerlink" title="访问列"></a>访问列</h3><p>通过列名称访问数据框中的数据。</p>
<h3 id="访问行"><a href="#访问行" class="headerlink" title="访问行"></a>访问行</h3><pre><code>result &lt;- emp.data[1:2,]
</code></pre><h3 id="提取指定行列"><a href="#提取指定行列" class="headerlink" title="提取指定行列"></a>提取指定行列</h3><pre><code># Extract 3rd and 5th row with 2nd and 4th column.
result &lt;- emp.data[c(3,5),c(2,4)]
</code></pre><h2 id="扩展数据框"><a href="#扩展数据框" class="headerlink" title="扩展数据框"></a>扩展数据框</h2><h3 id="增加列"><a href="#增加列" class="headerlink" title="增加列"></a>增加列</h3><p>直接增加行的列即可<br>    emp.data$dept &lt;- c(“IT”,”Operations”,”IT”,”HR”,”Finance”)<br>也可以使用cbind()连接新的向量。</p>
<h3 id="增加新的行"><a href="#增加新的行" class="headerlink" title="增加新的行"></a>增加新的行</h3><p>使用rbind()函数</p>
<pre><code># Bind the two data frames.
emp.finaldata &lt;- rbind(emp.data,emp.newdata)
</code></pre><h2 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h2><p>install.packages(“Package Name”)</p>
<h3 id="手动安装包"><a href="#手动安装包" class="headerlink" title="手动安装包"></a>手动安装包</h3><p>把下载的zip包放在指定的位置<br>    install.packages(file_name_with_path, repos = NULL, type = “source”)</p>
<pre><code># Install the package named &quot;XML&quot;
install.packages(&quot;E:/XML_3.98-1.3.zip&quot;, repos = NULL, type = &quot;source&quot;)
</code></pre><h3 id="加载包"><a href="#加载包" class="headerlink" title="加载包"></a>加载包</h3><p>在使用包时每次都要重现加载包<br>library(“package Name”, lib.loc = “path to library”)</p>
<h3 id="合并数据款－merging-data-frames"><a href="#合并数据款－merging-data-frames" class="headerlink" title="合并数据款－merging data frames"></a>合并数据款－merging data frames</h3><p>使用merge()函数<br>用过指定具有相同列来执行</p>
<h2 id="缺失值处理"><a href="#缺失值处理" class="headerlink" title="缺失值处理"></a>缺失值处理</h2><p>替换缺失值。通过一定的统计方法计算出相应值来替换缺失值。一般的方法有：平均值法（最常用）、多重插补法、随机模拟法回归预测（较复杂）。<br>平均值法如下：</p>
<h3 id="使用已有值的平均值来代替缺失数据"><a href="#使用已有值的平均值来代替缺失数据" class="headerlink" title="使用已有值的平均值来代替缺失数据"></a>使用已有值的平均值来代替缺失数据</h3><p>attach(data)<br>    y[is.na(y)]=mean(y,na.rm=T)<br>    x1[is.na(x1)]=mean(x1,na.rm=T)<br>    x2[is.na(x2)]=mean(x2,na.rm=T)<br>    data=data.frame(y,x1,x2)</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://zhiqiang.studio/2017/06/30/R-language-notes/" data-id="cj85m3xsl0011ephwdlpkz8bo" class="article-share-link">分享</a><div class="tags"><a href="/tags/R语言/">R语言</a></div><div class="post-nav"><a href="/2017/06/30/Matlab-image-processing-function/" class="pre">Matlab图像处理重要函数</a><a href="/2017/06/30/Hexo-trick/" class="next">Hexo 技巧</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode刷题/">Leetcode刷题</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Matlab/">Matlab</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/R语言/">R语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/matplotlib/">matplotlib</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sklearn/">sklearn</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据分析/">数据分析</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/深度学习/">深度学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/爬虫/">爬虫</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/自然语言处理/">自然语言处理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/数学/" style="font-size: 15px;">数学</a> <a href="/tags/Hive/" style="font-size: 15px;">Hive</a> <a href="/tags/sklearn/" style="font-size: 15px;">sklearn</a> <a href="/tags/easy/" style="font-size: 15px;">easy</a> <a href="/tags/可视化/" style="font-size: 15px;">可视化</a> <a href="/tags/BeautifulSoup/" style="font-size: 15px;">BeautifulSoup</a> <a href="/tags/Hbase/" style="font-size: 15px;">Hbase</a> <a href="/tags/R语言/" style="font-size: 15px;">R语言</a> <a href="/tags/无监督/" style="font-size: 15px;">无监督</a> <a href="/tags/Matlab/" style="font-size: 15px;">Matlab</a> <a href="/tags/监督学习/" style="font-size: 15px;">监督学习</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/工作流程/" style="font-size: 15px;">工作流程</a> <a href="/tags/word2vec/" style="font-size: 15px;">word2vec</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/matplotlib/" style="font-size: 15px;">matplotlib</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/numpy/" style="font-size: 15px;">numpy</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/深度学习/" style="font-size: 15px;">深度学习</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/28/tensorflow-learning1/">tensorflow-learning1</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/26/os-and-sys-python/">os and sys python</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/26/excel-python/">excel-python(xlrd,xlwt)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/25/email-python/">email-python</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/23/spark-learning2/">spark入门学习-RDD基本操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/23/hadoop-learning1/">hadoop-基础1</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/21/spark-learning1/">spark入门学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/20/mysql-learning5/">mysql安全管理&数据库维护&改善性能</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/mysql-learning4/">Mysql事务处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/sklearn-pipeline/">sklearn-pipeline</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://blog.csdn.net/u012925804" title="My CSDN" target="_blank">My CSDN</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">老姜工作室.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>